{
  "sksl": {
    "entrypoint": "Thesuntheskyandtheclouds_fragment_main",
    "shader": "// This SkSL shader is autogenerated by spirv-cross.\n\nfloat4 flutter_FragCoord;\n\nuniform vec2 iResolution;\nuniform float iTime;\nuniform float iFrame;\nuniform vec4 iMouse;\nuniform vec4 iChannelWrap;\nuniform vec4 iChannelFilter;\nuniform vec2 iChannelResolution0;\nuniform vec2 iChannelResolution1;\nuniform vec2 iChannelResolution2;\nuniform vec2 iChannelResolution3;\nuniform shader iChannel0;\nuniform half2 iChannel0_size;\n\nvec4 fragColor;\n\nvec3 bM;\nvec3 bR;\nvec3 C;\nvec3 Ds;\nfloat cloudyhigh;\nfloat cloudnear;\nfloat cloudfar;\nmat2 m2;\n\nvec2 FLT_flutter_local_FlutterFragCoord()\n{\n    return flutter_FragCoord.xy;\n}\n\nfloat FLT_flutter_local_noise(vec2 v)\n{\n    return iChannel0.eval(iChannel0_size * ( (v + vec2(0.5)) / vec2(256.0))).x;\n}\n\nvec3 FLT_flutter_local_hash33(inout vec3 p)\n{\n    p = fract(p * vec3(443.897491455078125, 397.29730224609375, 491.187103271484375));\n    p += vec3(dot(p.zxy, p.yxz + vec3(19.270000457763671875)));\n    return fract(vec3(p.x * p.y, p.z * p.x, p.y * p.z));\n}\n\nvec3 FLT_flutter_local_stars(inout vec3 p)\n{\n    vec3 c = vec3(0.0);\n    float res = iResolution.x * 2.5;\n    for (float i = 0.0; i < 4.0; i += 1.0)\n    {\n        vec3 q = fract(p * (0.1500000059604644775390625 * res)) - vec3(0.5);\n        vec3 id = floor(p * (0.1500000059604644775390625 * res));\n        vec3 param = id;\n        vec3 _983 = FLT_flutter_local_hash33(param);\n        vec2 rn = _983.xy;\n        float c2 = 1.0 - smoothstep(0.0, 0.60000002384185791015625, length(q));\n        c2 *= step(rn.x, 0.0005000000237487256526947021484375 + ((i * i) * 0.001000000047497451305389404296875));\n        c += (((mix(vec3(1.0, 0.4900000095367431640625, 0.100000001490116119384765625), vec3(0.75, 0.89999997615814208984375, 1.0), vec3(rn.y)) * 0.100000001490116119384765625) + vec3(0.89999997615814208984375)) * c2);\n        p *= 1.2999999523162841796875;\n    }\n    return (c * c) * 0.800000011920928955078125;\n}\n\nfloat FLT_flutter_local_hash21(vec2 n)\n{\n    return fract(sin(dot(n, vec2(12.98980045318603515625, 4.141399860382080078125))) * 43758.546875);\n}\n\nmat2 FLT_flutter_local_mm2(float a)\n{\n    float c = cos(a);\n    float s = sin(a);\n    return mat2(vec2(c, s), vec2(-s, c));\n}\n\nfloat FLT_flutter_local_tri(float x)\n{\n    return clamp(abs(fract(x) - 0.5), 0.00999999977648258209228515625, 0.4900000095367431640625);\n}\n\nvec2 FLT_flutter_local_tri2(vec2 p)\n{\n    float param = p.x;\n    float param_1 = p.y;\n    float param_2 = p.x;\n    float param_3 = p.y + FLT_flutter_local_tri(param_2);\n    return vec2(FLT_flutter_local_tri(param) + FLT_flutter_local_tri(param_1), FLT_flutter_local_tri(param_3));\n}\n\nfloat FLT_flutter_local_triNoise2d(inout vec2 p, float spd)\n{\n    float z = 1.7999999523162841796875;\n    float z2 = 2.5;\n    float rz = 0.0;\n    float param = p.x * 0.0599999986588954925537109375;\n    p *= FLT_flutter_local_mm2(param);\n    vec2 bp = p;\n    for (int k = 0; k < 5; k++)\n    {\n        float i = float(k);\n        vec2 param_1 = bp * 1.85000002384185791015625;\n        vec2 dg = FLT_flutter_local_tri2(param_1) * 0.75;\n        float param_2 = iTime * spd;\n        dg *= FLT_flutter_local_mm2(param_2);\n        p -= (dg / vec2(z2));\n        bp *= 1.2999999523162841796875;\n        z2 *= 1.4500000476837158203125;\n        z *= 0.4199999868869781494140625;\n        p *= (1.21000003814697265625 + ((rz - 1.0) * 0.0199999995529651641845703125));\n        float param_3 = p.y;\n        float param_4 = p.x + FLT_flutter_local_tri(param_3);\n        rz += (FLT_flutter_local_tri(param_4) * z);\n        p *= mat2(-m2[0], -m2[1]);\n    }\n    return clamp(1.0 / pow(rz * 29.0, 1.2999999523162841796875), 0.0, 0.550000011920928955078125);\n}\n\nvec4 FLT_flutter_local_aurora(inout vec3 ro, vec3 rd)\n{\n    vec4 col = vec4(0.0);\n    vec4 avgCol = vec4(0.0);\n    ro *= 9.9999997473787516355514526367188e-06;\n    float mt = 10.0;\n    for (int ii = 0; ii < 5; ii++)\n    {\n        float i = float(ii);\n        vec2 param = flutter_FragCoord.xy;\n        float of = (0.006000000052154064178466796875 * FLT_flutter_local_hash21(param)) * smoothstep(0.0, 15.0, i * mt);\n        float pt = ((0.800000011920928955078125 + (pow(i * mt, 1.2000000476837158203125) * 0.001000000047497451305389404296875)) - rd.y) / ((rd.y * 2.0) + 0.4000000059604644775390625);\n        pt -= of;\n        vec3 bpos = ro + (rd * pt);\n        vec2 p = bpos.zx;\n        vec2 param_1 = p;\n        float param_2 = 0.100000001490116119384765625;\n        float _367 = FLT_flutter_local_triNoise2d(param_1, param_2);\n        float rzt = _367;\n        vec4 col2 = vec4(0.0, 0.0, 0.0, rzt);\n        vec3 _387 = (sin(vec3(-1.14999997615814208984375, 1.5, -0.20000000298023223876953125) + vec3((i * mt) * 0.0529999993741512298583984375)) * (0.5 * mt)) * rzt;\n        col2.x = _387.x;\n        col2.y = _387.y;\n        col2.z = _387.z;\n        avgCol = mix(avgCol, col2, vec4(0.5));\n        col += ((avgCol * exp2((((-i) * mt) * 0.039999999105930328369140625) - 2.5)) * smoothstep(0.0, 5.0, i * mt));\n    }\n    col *= clamp((rd.y * 15.0) + 0.4000000059604644775390625, 0.0, 1.2000000476837158203125);\n    return col * 2.7999999523162841796875;\n}\n\nfloat FLT_flutter_local_escape(vec3 p, vec3 d, float R)\n{\n    vec3 v = p - C;\n    float b = dot(v, d);\n    float c = dot(v, v) - (R * R);\n    float det2 = (b * b) - c;\n    if (det2 < 0.0)\n    {\n        return -1.0;\n    }\n    float det = sqrt(det2);\n    float t1 = (-b) - det;\n    float t2 = (-b) + det;\n    return (t1 >= 0.0) ? t1 : t2;\n}\n\nfloat FLT_flutter_local_Noise(vec3 x)\n{\n    vec3 p = floor(x);\n    vec3 f = fract(x);\n    f = (f * f) * (vec3(3.0) - (f * 2.0));\n    vec2 uv = (p.xy + (vec2(37.0, 17.0) * p.z)) + f.xy;\n    vec2 rg = iChannel0.eval(iChannel0_size * ( (uv + vec2(0.5)) / vec2(256.0))).yx;\n    return mix(rg.x, rg.y, f.z);\n}\n\nfloat FLT_flutter_local_fnoise(inout vec3 p, float iTime_1)\n{\n    p *= 0.25;\n    vec3 param = p;\n    float f = 0.5 * FLT_flutter_local_Noise(param);\n    p *= 3.019999980926513671875;\n    p.y -= (iTime_1 * 0.100000001490116119384765625);\n    vec3 param_1 = p;\n    f += (0.25 * FLT_flutter_local_Noise(param_1));\n    p *= 3.0299999713897705078125;\n    p.y += (iTime_1 * 0.0599999986588954925537109375);\n    vec3 param_2 = p;\n    f += (0.125 * FLT_flutter_local_Noise(param_2));\n    p *= 3.0099999904632568359375;\n    vec3 param_3 = p;\n    f += (0.0625 * FLT_flutter_local_Noise(param_3));\n    p *= 3.0299999713897705078125;\n    vec3 param_4 = p;\n    f += (0.03125 * FLT_flutter_local_Noise(param_4));\n    p *= 3.019999980926513671875;\n    vec3 param_5 = p;\n    f += (0.015625 * FLT_flutter_local_Noise(param_5));\n    return f;\n}\n\nfloat FLT_flutter_local_cloud(vec3 p, float iTime_1)\n{\n    vec3 param = p * 0.00019999999494757503271102905273438;\n    float param_1 = iTime_1;\n    float _569 = FLT_flutter_local_fnoise(param, param_1);\n    float cld = _569 + 0.0500000007450580596923828125;\n    cld = smoothstep(0.439999997615814208984375, 0.63999998569488525390625, cld);\n    cld *= (cld * 25.0);\n    return cld + 0.100000001490116119384765625;\n}\n\nvoid FLT_flutter_local_densities(vec3 pos, out float rayleigh, out float mie)\n{\n    float h = length(pos - C) - 6360000.0;\n    rayleigh = exp((-h) / 8000.0);\n    vec3 d = pos;\n    d.y = 0.0;\n    float dist = length(d);\n    float cld = 0.0;\n    if ((5000.0 < h) && (h < 8000.0))\n    {\n        vec3 param = pos + vec3(iTime * 500.0, 0.0, iTime * 600.0);\n        float param_1 = iTime;\n        cld = FLT_flutter_local_cloud(param, param_1) * 0.5;\n        cld *= (sin((3.141499996185302734375 * (h - 5000.0)) / 5000.0) * 0.5);\n    }\n    if (dist > cloudfar)\n    {\n        float factor = clamp(1.0 - ((dist - cloudfar) / (cloudfar - cloudnear)), 0.0, 1.0);\n        cld *= factor;\n    }\n    mie = (exp((-h) / 1200.0) + cld) + 0.100000001490116119384765625;\n}\n\nvoid FLT_flutter_local_scatter(vec3 o, vec3 d, inout vec3 col, inout vec3 scat, float iTime_1)\n{\n    vec3 param = o;\n    vec3 param_1 = d;\n    float param_2 = 6380000.0;\n    float L = FLT_flutter_local_escape(param, param_1, param_2);\n    float mu = dot(d, Ds);\n    float opmu2 = 1.0 + (mu * mu);\n    float phaseR = 0.05968309938907623291015625 * opmu2;\n    float phaseM = (0.095194540917873382568359375 * opmu2) / (2.2025001049041748046875 * pow(1.20249998569488525390625 - (0.89999997615814208984375 * mu), 1.5));\n    float phaseS = (0.00011936620285268872976303100585938 * opmu2) / (2.999000072479248046875 * pow(1.99899995326995849609375 - (1.99800002574920654296875 * mu), 1.5));\n    float depthR = 0.0;\n    float depthM = 0.0;\n    vec3 R = vec3(0.0);\n    vec3 M = vec3(0.0);\n    float dl = L / 16.0;\n    float param_4;\n    float param_5;\n    float param_10;\n    float param_11;\n    for (int i = 0; i < 16; i++)\n    {\n        float l = float(i) * dl;\n        vec3 p = o + (d * l);\n        vec3 param_3 = p;\n        FLT_flutter_local_densities(param_3, param_4, param_5);\n        float dR = param_4;\n        float dM = param_5;\n        dR *= dl;\n        dM *= dl;\n        depthR += dR;\n        depthM += dM;\n        vec3 param_6 = p;\n        vec3 param_7 = Ds;\n        float param_8 = 6380000.0;\n        float Ls = FLT_flutter_local_escape(param_6, param_7, param_8);\n        if (Ls > 0.0)\n        {\n            float dls = Ls / 16.0;\n            float depthRs = 0.0;\n            float depthMs = 0.0;\n            for (int j = 0; j < 16; j++)\n            {\n                float ls = float(j) * dls;\n                vec3 ps = p + (Ds * ls);\n                vec3 param_9 = ps;\n                FLT_flutter_local_densities(param_9, param_10, param_11);\n                float dRs = param_10;\n                float dMs = param_11;\n                depthRs += (dRs * dls);\n                depthMs += (dMs * dls);\n            }\n            vec3 A = exp(-((bR * (depthRs + depthR)) + (bM * (depthMs + depthM))));\n            R += (A * dR);\n            M += (A * dM);\n        }\n    }\n    col = ((M * bM) * phaseM) * 10.0;\n    col += (((M * bM) * phaseS) * 5.0);\n    col += (((R * bR) * phaseR) * 10.0);\n    scat = (bM * depthM) * 0.100000001490116119384765625;\n}\n\nvoid FLT_flutter_local_mainImage(out vec4 fragColor_1, vec2 fragCoord)\n{\n    float AR = iResolution.x / iResolution.y;\n    float M = 1.0;\n    vec2 uvMouse = iMouse.xy / iResolution;\n    uvMouse.x *= AR;\n    vec2 uv0 = fragCoord / iResolution;\n    uv0 *= M;\n    vec2 uv = (uv0 * (2.0 * M)) - vec2(1.0 * M);\n    uv.x *= AR;\n    if (uvMouse.y == 0.0)\n    {\n        uvMouse.y = 0.61339747905731201171875;\n    }\n    if (uvMouse.x == 0.0)\n    {\n        uvMouse.x = 0.91339743137359619140625;\n    }\n    Ds = normalize(vec3(uvMouse.x - (0.5 * AR), uvMouse.y - 0.5, -0.866025388240814208984375));\n    vec3 O = vec3(0.0, 50.0, 0.0);\n    vec3 D = normalize(vec3(uv, -(1.73205077648162841796875 * M)));\n    vec3 color = vec3(0.0);\n    vec3 scat = vec3(0.0);\n    float att = 1.0;\n    float staratt = 1.0;\n    float scatatt = 1.0;\n    vec3 star = vec3(0.0);\n    vec4 aur = vec4(0.0);\n    float fade = (smoothstep(0.0, 0.00999999977648258209228515625, abs(D.y)) * 0.5) + 0.89999997615814208984375;\n    staratt = 1.0 - min(1.0, uvMouse.y * 2.0);\n    scatatt = 1.0 - min(1.0, uvMouse.y * 2.2000000476837158203125);\n    if (D.y < (-0.00019999999494757503271102905273438))\n    {\n        float L = (-O.y) / D.y;\n        O += (D * L);\n        D.y = -D.y;\n        vec2 param = O.xz + vec2(0.0, (-iTime) * 1000.0);\n        D = normalize(D + vec3(0.0, 0.0030000000260770320892333984375 * sin(iTime + (6.283100128173828125 * FLT_flutter_local_noise(param))), 0.0));\n        att = 0.60000002384185791015625;\n        vec3 param_1 = D;\n        vec3 _1173 = FLT_flutter_local_stars(param_1);\n        star = _1173;\n        vec4 _1177;\n        if (uvMouse.y < 0.5)\n        {\n            vec3 param_2 = O;\n            vec3 param_3 = D;\n            vec4 _1184 = FLT_flutter_local_aurora(param_2, param_3);\n            vec4 _1187 = smoothstep(vec4(0.0), vec4(2.5), _1184);\n            aur = _1187;\n            _1177 = _1187;\n        }\n        else\n        {\n            vec4 _1189 = aur;\n            aur = _1189;\n            _1177 = _1189;\n        }\n    }\n    else\n    {\n        float L1 = O.y / D.y;\n        vec3 O1 = O + (D * L1);\n        vec3 D1 = vec3(1.0);\n        vec2 param_4 = O1.xz + vec2(0.0, iTime * 0.800000011920928955078125);\n        D1 = normalize(D + vec3(1.0, 0.000899999984540045261383056640625 * sin(iTime + (6.283100128173828125 * FLT_flutter_local_noise(param_4))), 0.0));\n        vec3 param_5 = D1;\n        vec3 _1225 = FLT_flutter_local_stars(param_5);\n        star = _1225;\n        vec4 _1229;\n        if (uvMouse.y < 0.5)\n        {\n            vec3 param_6 = O;\n            vec3 param_7 = D;\n            vec4 _1236 = FLT_flutter_local_aurora(param_6, param_7);\n            vec4 _1241 = smoothstep(vec4(0.0), vec4(1.5), _1236) * fade;\n            aur = _1241;\n            _1229 = _1241;\n        }\n        else\n        {\n            vec4 _1243 = aur;\n            aur = _1243;\n            _1229 = _1243;\n        }\n    }\n    star *= att;\n    star *= staratt;\n    vec3 param_8 = O;\n    vec3 param_9 = D;\n    float param_12 = iTime;\n    vec3 param_10;\n    vec3 param_11;\n    FLT_flutter_local_scatter(param_8, param_9, param_10, param_11, param_12);\n    color = param_10;\n    scat = param_11;\n    color *= att;\n    scat *= att;\n    scat *= scatatt;\n    color += scat;\n    color += star;\n    color += (aur.xyz * scatatt);\n    fragColor_1 = vec4(pow(color, vec3(0.4545454680919647216796875)), 1.0);\n}\n\nvoid FLT_main()\n{\n    bM = vec3(2.0999999833293259143829345703125e-05);\n    bR = vec3(5.8000000535685103386640548706055e-06, 1.3500000022759195417165756225586e-05, 3.3100001019192859530448913574219e-05);\n    C = vec3(0.0, -6360000.0, 0.0);\n    Ds = vec3(0.0, 0.0, -1.0);\n    cloudyhigh = 0.0500000007450580596923828125;\n    cloudnear = 1.0;\n    cloudfar = 70000.0;\n    m2 = mat2(vec2(0.95534002780914306640625, 0.295520007610321044921875), vec2(-0.295520007610321044921875, 0.95534002780914306640625));\n    float keep = (((((((((((iFrame + iMouse.x) + iTime) + iResolution.x) + iChannelWrap.x) + iChannelResolution0.x) + iChannelResolution0.y) + iChannelResolution1.x) + iChannelResolution1.y) + iChannelResolution2.x) + iChannelResolution2.y) + iChannelResolution3.x) + iChannelResolution3.y;\n    vec2 fragCoord_1 = FLT_flutter_local_FlutterFragCoord();\n    vec2 param_14 = fragCoord_1;\n    vec4 param_13;\n    FLT_flutter_local_mainImage(param_13, param_14);\n    fragColor = param_13;\n    if (keep < (-100000002004087734272.0))\n    {\n        fragColor += vec4(keep);\n    }\n}\n\nhalf4 main(float2 iFragCoord)\n{\n      flutter_FragCoord = float4(iFragCoord, 0, 0);\n      FLT_main();\n      return fragColor;\n}\n",
    "stage": 1,
    "uniforms": [
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 0,
        "name": "iResolution",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 1,
        "name": "iTime",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 2,
        "name": "iFrame",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 3,
        "name": "iMouse",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 4,
        "name": "iChannelWrap",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 5,
        "name": "iChannelFilter",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 6,
        "name": "iChannelResolution0",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 7,
        "name": "iChannelResolution1",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 8,
        "name": "iChannelResolution2",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 9,
        "name": "iChannelResolution3",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 0,
        "columns": 1,
        "location": 10,
        "name": "iChannel0",
        "rows": 1,
        "type": 12
      }
    ]
  }
}