{
  "sksl": {
    "entrypoint": "Evenfasterproceduralocean_fragment_main",
    "shader": "// This SkSL shader is autogenerated by spirv-cross.\n\nfloat4 flutter_FragCoord;\n\nuniform vec2 iResolution;\nuniform float iTime;\nuniform float iFrame;\nuniform vec4 iMouse;\nuniform vec4 iChannelWrap;\nuniform vec4 iChannelFilter;\nuniform vec2 iChannelResolution0;\nuniform vec2 iChannelResolution1;\nuniform vec2 iChannelResolution2;\nuniform vec2 iChannelResolution3;\n\nvec4 fragColor;\n\nvec2 FLT_flutter_local_FlutterFragCoord()\n{\n    return flutter_FragCoord.xy;\n}\n\nmat3 FLT_flutter_local_rotmat(inout vec3 axis, float angle)\n{\n    axis = axis;\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    return mat3(vec3(((oc * axis.x) * axis.x) + c, ((oc * axis.x) * axis.y) - (axis.z * s), ((oc * axis.z) * axis.x) + (axis.y * s)), vec3(((oc * axis.x) * axis.y) + (axis.z * s), ((oc * axis.y) * axis.y) + c, ((oc * axis.y) * axis.z) - (axis.x * s)), vec3(((oc * axis.z) * axis.x) - (axis.y * s), ((oc * axis.y) * axis.z) + (axis.x * s), ((oc * axis.z) * axis.z) + c));\n}\n\nvec3 FLT_flutter_local_getRay(inout vec2 uv)\n{\n    uv = ((uv * 2.0) - vec2(1.0)) * vec2(iResolution.x / iResolution.y, 1.0);\n    vec3 proj = normalize(vec3(uv.x, uv.y, 1.0) + ((vec3(uv.x, uv.y, -1.0) * pow(length(uv), 2.0)) * 0.0500000007450580596923828125));\n    if (iResolution.x < 400.0)\n    {\n        return proj;\n    }\n    vec3 param = vec3(0.0, -1.0, 0.0);\n    float param_1 = 3.0 * (((iMouse.xy / iResolution).x * 2.0) - 1.0);\n    mat3 _499 = FLT_flutter_local_rotmat(param, param_1);\n    vec3 param_2 = vec3(1.0, 0.0, 0.0);\n    float param_3 = 1.5 * (((iMouse.xy / iResolution).y * 2.0) - 1.0);\n    mat3 _512 = FLT_flutter_local_rotmat(param_2, param_3);\n    vec3 ray = (_499 * _512) * proj;\n    return ray;\n}\n\nfloat FLT_flutter_local_intersectPlane(vec3 origin, vec3 direction, vec3 point, vec3 normal)\n{\n    return clamp(dot(point - origin, normal) / dot(direction, normal), -1.0, 9991999.0);\n}\n\nvec3 FLT_flutter_local_extra_cheap_atmosphere(vec3 raydir, inout vec3 sundir)\n{\n    sundir.y = max(sundir.y, -0.070000000298023223876953125);\n    float special_trick = 1.0 / ((raydir.y * 1.0) + 0.100000001490116119384765625);\n    float special_trick2 = 1.0 / ((sundir.y * 11.0) + 1.0);\n    float raysundt = pow(abs(dot(sundir, raydir)), 2.0);\n    float sundt = pow(max(0.0, dot(sundir, raydir)), 8.0);\n    float mymie = (sundt * special_trick) * 0.20000000298023223876953125;\n    vec3 suncolor = mix(vec3(1.0), vec3(0.75446426868438720703125, 0.419642865657806396484375, 0.0), vec3(special_trick2));\n    vec3 bluesky = vec3(0.24553571641445159912109375, 0.580357134342193603515625, 1.0) * suncolor;\n    vec3 bluesky2 = max(vec3(0.0), bluesky - (vec3(0.010999999940395355224609375, 0.026000000536441802978515625, 0.04479999840259552001953125) * (special_trick + (((-6.0) * sundir.y) * sundir.y))));\n    bluesky2 *= (special_trick * (0.23999999463558197021484375 + (raysundt * 0.23999999463558197021484375)));\n    return (bluesky2 * (1.0 + (1.0 * pow(1.0 - raydir.y, 3.0)))) + (suncolor * mymie);\n}\n\nvec3 FLT_flutter_local_getatm(vec3 ray)\n{\n    vec3 param = ray;\n    vec3 param_1 = vec3(0.57735025882720947265625);\n    vec3 _628 = FLT_flutter_local_extra_cheap_atmosphere(param, param_1);\n    return _628 * 0.5;\n}\n\nfloat FLT_flutter_local_sun(vec3 ray)\n{\n    vec3 sd = vec3(0.57735025882720947265625);\n    return pow(max(0.0, dot(ray, sd)), 528.0) * 110.0;\n}\n\nvec3 FLT_flutter_local_aces_tonemap(vec3 color)\n{\n    mat3 m1 = mat3(vec3(0.59719002246856689453125, 0.075999997556209564208984375, 0.0284000001847743988037109375), vec3(0.354579985141754150390625, 0.908339977264404296875, 0.13382999598979949951171875), vec3(0.048229999840259552001953125, 0.0156599991023540496826171875, 0.837769985198974609375));\n    mat3 m2 = mat3(vec3(1.60475003719329833984375, -0.10208000242710113525390625, -0.00326999998651444911956787109375), vec3(-0.5310800075531005859375, 1.108129978179931640625, -0.07276000082492828369140625), vec3(-0.0736699998378753662109375, -0.00604999996721744537353515625, 1.0760200023651123046875));\n    vec3 v = m1 * color;\n    vec3 a = (v * (v + vec3(0.02457859925925731658935546875))) - vec3(9.0537003416102379560470581054688e-05);\n    vec3 b = (v * ((v * 0.98372900485992431640625) + vec3(0.4329510033130645751953125))) + vec3(0.23808099329471588134765625);\n    return pow(clamp(m2 * (a / b), vec3(0.0), vec3(1.0)), vec3(0.4545454680919647216796875));\n}\n\nvec2 FLT_flutter_local_wavedx(vec2 position, vec2 direction, float speed, float frequency, float timeshift)\n{\n    float x = (dot(direction, position) * frequency) + (timeshift * speed);\n    float wave = exp(sin(x) - 1.0);\n    float dx = wave * cos(x);\n    return vec2(wave, -dx);\n}\n\nfloat FLT_flutter_local_getwaves(inout vec2 position, int iterations)\n{\n    float iter = 0.0;\n    float phase = 6.0;\n    float speed = 2.0;\n    float weight = 1.0;\n    float w = 0.0;\n    float ws = 0.0;\n    for (int i = 0; i < iterations; i++)\n    {\n        vec2 p = vec2(sin(iter), cos(iter));\n        vec2 param = position;\n        vec2 param_1 = p;\n        float param_2 = speed;\n        float param_3 = phase;\n        float param_4 = iTime;\n        vec2 res = FLT_flutter_local_wavedx(param, param_1, param_2, param_3, param_4);\n        position += (((p * res.y) * weight) * 0.048000000417232513427734375);\n        w += (res.x * weight);\n        iter += 12.0;\n        ws += weight;\n        weight = mix(weight, 0.0, 0.20000000298023223876953125);\n        phase *= 1.17999994754791259765625;\n        speed *= 1.07000005245208740234375;\n    }\n    return w / ws;\n}\n\nfloat FLT_flutter_local_raymarchwater(vec3 camera, vec3 start, vec3 end, float depth)\n{\n    vec3 pos = start;\n    float h = 0.0;\n    float hupper = depth;\n    float hlower = 0.0;\n    vec2 zer = vec2(0.0);\n    vec3 dir = normalize(end - start);\n    float eps = 0.00999999977648258209228515625;\n    for (int i = 0; i < 318; i++)\n    {\n        vec2 param = pos.xz * 0.100000001490116119384765625;\n        int param_1 = 13;\n        float _233 = FLT_flutter_local_getwaves(param, param_1);\n        h = (_233 * depth) - depth;\n        float dist_pos = distance(pos, camera);\n        if ((h + (eps * dist_pos)) > pos.y)\n        {\n            return dist_pos;\n        }\n        pos += (dir * (pos.y - h));\n    }\n    return -1.0;\n}\n\nvec3 FLT_flutter_local_normal(vec2 pos, float e, float depth)\n{\n    vec2 ex = vec2(e, 0.0);\n    vec2 param = pos * 0.100000001490116119384765625;\n    int param_1 = 48;\n    float _276 = FLT_flutter_local_getwaves(param, param_1);\n    float H = _276 * depth;\n    vec3 a = vec3(pos.x, H, pos.y);\n    vec2 param_2 = (pos - ex) * 0.100000001490116119384765625;\n    int param_3 = 48;\n    float _297 = FLT_flutter_local_getwaves(param_2, param_3);\n    vec2 param_4 = (pos + ex.yx) * 0.100000001490116119384765625;\n    int param_5 = 48;\n    float _315 = FLT_flutter_local_getwaves(param_4, param_5);\n    return cross(normalize(a - vec3(pos.x - e, _297 * depth, pos.y)), normalize(a - vec3(pos.x, _315 * depth, pos.y + e)));\n}\n\nvoid FLT_flutter_local_mainImage(out vec4 fragColor_1, vec2 fragCoord)\n{\n    vec2 uv = fragCoord / iResolution;\n    float waterdepth = 2.099999904632568359375;\n    vec3 wfloor = vec3(0.0, -waterdepth, 0.0);\n    vec3 wceil = vec3(0.0);\n    vec3 orig = vec3(0.0, 2.0, 0.0);\n    vec2 param = uv;\n    vec3 _728 = FLT_flutter_local_getRay(param);\n    vec3 ray = _728;\n    vec3 param_1 = orig;\n    vec3 param_2 = ray;\n    vec3 param_3 = wceil;\n    vec3 param_4 = vec3(0.0, 1.0, 0.0);\n    float hihit = FLT_flutter_local_intersectPlane(param_1, param_2, param_3, param_4);\n    if (ray.y >= (-0.00999999977648258209228515625))\n    {\n        vec3 param_5 = ray;\n        vec3 param_6 = ray;\n        vec3 C = (FLT_flutter_local_getatm(param_5) * 2.0) + vec3(FLT_flutter_local_sun(param_6));\n        vec3 param_7 = C;\n        C = FLT_flutter_local_aces_tonemap(param_7);\n        fragColor_1 = vec4(C, 1.0);\n        return;\n    }\n    vec3 param_8 = orig;\n    vec3 param_9 = ray;\n    vec3 param_10 = wfloor;\n    vec3 param_11 = vec3(0.0, 1.0, 0.0);\n    float lohit = FLT_flutter_local_intersectPlane(param_8, param_9, param_10, param_11);\n    vec3 hipos = orig + (ray * hihit);\n    vec3 lopos = orig + (ray * lohit);\n    vec3 param_12 = orig;\n    vec3 param_13 = hipos;\n    vec3 param_14 = lopos;\n    float param_15 = waterdepth;\n    float dist = FLT_flutter_local_raymarchwater(param_12, param_13, param_14, param_15);\n    vec3 pos = orig + (ray * dist);\n    vec2 param_16 = pos.xz;\n    float param_17 = 0.001000000047497451305389404296875;\n    float param_18 = waterdepth;\n    vec3 N = FLT_flutter_local_normal(param_16, param_17, param_18);\n    vec2 velocity = N.xz * (1.0 - N.y);\n    N = mix(vec3(0.0, 1.0, 0.0), N, vec3(1.0 / (((dist * dist) * 0.00999999977648258209228515625) + 1.0)));\n    vec3 R = reflect(ray, N);\n    float fresnel = 0.039999999105930328369140625 + (0.959999978542327880859375 * pow(1.0 - max(0.0, dot(-N, ray)), 5.0));\n    vec3 param_19 = R;\n    vec3 param_20 = R;\n    vec3 C_1 = ((FLT_flutter_local_getatm(param_19) * fresnel) * 2.0) + vec3(fresnel * FLT_flutter_local_sun(param_20));\n    vec3 param_21 = C_1;\n    C_1 = FLT_flutter_local_aces_tonemap(param_21);\n    fragColor_1 = vec4(C_1, 1.0);\n}\n\nvoid FLT_main()\n{\n    float keep = (((((((((((iFrame + iMouse.x) + iTime) + iResolution.x) + iChannelWrap.x) + iChannelResolution0.x) + iChannelResolution0.y) + iChannelResolution1.x) + iChannelResolution1.y) + iChannelResolution2.x) + iChannelResolution2.y) + iChannelResolution3.x) + iChannelResolution3.y;\n    vec2 fragCoord_1 = FLT_flutter_local_FlutterFragCoord();\n    vec2 param_23 = fragCoord_1;\n    vec4 param_22;\n    FLT_flutter_local_mainImage(param_22, param_23);\n    fragColor = param_22;\n    if (keep < (-100000002004087734272.0))\n    {\n        fragColor += vec4(keep);\n    }\n}\n\nhalf4 main(float2 iFragCoord)\n{\n      flutter_FragCoord = float4(iFragCoord, 0, 0);\n      FLT_main();\n      return fragColor;\n}\n",
    "stage": 1,
    "uniforms": [
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 0,
        "name": "iResolution",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 1,
        "name": "iTime",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 2,
        "name": "iFrame",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 3,
        "name": "iMouse",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 4,
        "name": "iChannelWrap",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 5,
        "name": "iChannelFilter",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 6,
        "name": "iChannelResolution0",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 7,
        "name": "iChannelResolution1",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 8,
        "name": "iChannelResolution2",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 9,
        "name": "iChannelResolution3",
        "rows": 2,
        "type": 10
      }
    ]
  }
}