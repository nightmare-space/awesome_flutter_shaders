{
  "sksl": {
    "entrypoint": "Alotofspheres_fragment_main",
    "shader": "// This SkSL shader is autogenerated by spirv-cross.\n\nfloat4 flutter_FragCoord;\n\nuniform vec2 iResolution;\nuniform float iTime;\nuniform float iFrame;\nuniform vec4 iMouse;\nuniform vec4 iChannelWrap;\nuniform vec4 iChannelFilter;\nuniform vec2 iChannelResolution0;\nuniform vec2 iChannelResolution1;\nuniform vec2 iChannelResolution2;\nuniform vec2 iChannelResolution3;\n\nvec4 fragColor;\n\nvec2 FLT_flutter_local_FlutterFragCoord()\n{\n    return flutter_FragCoord.xy;\n}\n\nbool FLT_flutter_local_intersectPlane(vec3 ro, vec3 rd, float height, inout float dist)\n{\n    if (rd.y == 0.0)\n    {\n        return false;\n    }\n    float d = (-(ro.y - height)) / rd.y;\n    d = min(100000.0, d);\n    if (d > 0.0)\n    {\n        dist = d;\n        return true;\n    }\n    return false;\n}\n\nvec2 FLT_flutter_local_hash2(vec2 n)\n{\n    return fract(sin(vec2(n.x * n.y, n.x + n.y)) * vec2(2.1459124088287353515625, 3.349042415618896484375));\n}\n\nvoid FLT_flutter_local_getSphereOffset(vec2 grid, out vec2 center)\n{\n    vec2 param = grid + vec2(43.119998931884765625, 1.230000019073486328125);\n    center = (FLT_flutter_local_hash2(param) - vec2(0.5)) * 5.0;\n}\n\nfloat FLT_flutter_local_hash(float n)\n{\n    return fract(sin(n) * 43758.546875);\n}\n\nvoid FLT_flutter_local_getMovingSpherePosition(vec2 grid, vec2 sphereOffset, out vec3 center)\n{\n    float param = ((grid.x * 1.23114001750946044921875) + 5.34200000762939453125) + (74.3242340087890625 * grid.y);\n    float s = 0.100000001490116119384765625 + FLT_flutter_local_hash(param);\n    float t = fract((14.0 * s) + ((iTime / s) * 0.300000011920928955078125));\n    float y = (s * 30.0) * abs((4.0 * t) * (1.0 - t));\n    vec2 offset = grid + sphereOffset;\n    center = vec3(offset.x, y, offset.y) + vec3(4.0, 1.0, 4.0);\n}\n\nbool FLT_flutter_local_intersectUnitSphere(vec3 ro, vec3 rd, vec3 sph, inout float dist, inout vec3 normal)\n{\n    vec3 ds = ro - sph;\n    float bs = dot(rd, ds);\n    float cs = dot(ds, ds) - 1.0;\n    float ts = (bs * bs) - cs;\n    if (ts > 0.0)\n    {\n        ts = (-bs) - sqrt(ts);\n        if (ts > 0.0)\n        {\n            normal = normalize((ro + (rd * ts)) - sph);\n            dist = ts;\n            return true;\n        }\n    }\n    return false;\n}\n\nvoid FLT_flutter_local_getSpherePosition(vec2 grid, vec2 sphereOffset, out vec3 center)\n{\n    vec2 offset = grid + sphereOffset;\n    center = vec3(offset.x, 0.0, offset.y) + vec3(4.0, 1.0, 4.0);\n}\n\nvec3 FLT_flutter_local_hash3(vec2 n)\n{\n    return fract(sin(vec3(n.x, n.y, (n + vec2(2.0)).x)) * vec3(3.545312404632568359375, 4.14591217041015625, 1.34904229640960693359375));\n}\n\nvec3 FLT_flutter_local_getSphereColor(vec2 grid)\n{\n    vec2 param = grid + vec2(43.119998931884765625 * grid.y, 12.229999542236328125 * grid.x);\n    return normalize(FLT_flutter_local_hash3(param));\n}\n\nvec3 FLT_flutter_local_trace(vec3 ro, vec3 rd, inout vec3 intersection, inout vec3 normal, inout float dist, inout int material)\n{\n    material = 0;\n    dist = 400.0;\n    vec3 param = ro;\n    vec3 param_1 = rd;\n    float param_2 = 0.0;\n    float param_3;\n    bool _311 = FLT_flutter_local_intersectPlane(param, param_1, param_2, param_3);\n    float distcheck = param_3;\n    vec3 col;\n    if (_311 && (distcheck < 400.0))\n    {\n        dist = distcheck;\n        material = 1;\n        normal = vec3(0.0, 1.0, 0.0);\n        col = vec3(0.25);\n    }\n    else\n    {\n        col = vec3(0.0);\n    }\n    vec3 pos = floor(ro / vec3(8.0)) * 8.0;\n    vec3 ri = vec3(1.0) / rd;\n    vec3 rs = sign(rd) * 8.0;\n    vec3 dis = (((pos - ro) + vec3(4.0)) + (rs * 0.5)) * ri;\n    vec3 mm = vec3(0.0);\n    vec2 offset;\n    vec3 sphereCenter;\n    float param_12;\n    vec3 param_13;\n    float param_20;\n    vec3 param_21;\n    for (int i = 0; i < 40; i++)\n    {\n        bool _363 = material > 1;\n        bool _375;\n        if (!_363)\n        {\n            _375 = distance(ro.xz, pos.xz) > (dist + 8.0);\n        }\n        else\n        {\n            _375 = _363;\n        }\n        if (_375)\n        {\n            break;\n        }\n        vec2 param_4 = pos.xz;\n        vec2 param_5 = offset;\n        FLT_flutter_local_getSphereOffset(param_4, param_5);\n        offset = param_5;\n        vec2 param_6 = pos.xz;\n        vec2 param_7 = -offset;\n        vec3 param_8 = sphereCenter;\n        FLT_flutter_local_getMovingSpherePosition(param_6, param_7, param_8);\n        sphereCenter = param_8;\n        vec3 param_9 = ro;\n        vec3 param_10 = rd;\n        vec3 param_11 = sphereCenter;\n        bool _407 = FLT_flutter_local_intersectUnitSphere(param_9, param_10, param_11, param_12, param_13);\n        distcheck = param_12;\n        vec3 normalcheck = param_13;\n        bool _415;\n        if (_407)\n        {\n            _415 = distcheck < dist;\n        }\n        else\n        {\n            _415 = _407;\n        }\n        if (_415)\n        {\n            dist = distcheck;\n            normal = normalcheck;\n            material = 2;\n        }\n        vec2 param_14 = pos.xz;\n        vec2 param_15 = offset;\n        vec3 param_16 = sphereCenter;\n        FLT_flutter_local_getSpherePosition(param_14, param_15, param_16);\n        sphereCenter = param_16;\n        vec3 param_17 = ro;\n        vec3 param_18 = rd;\n        vec3 param_19 = sphereCenter;\n        bool _438 = FLT_flutter_local_intersectUnitSphere(param_17, param_18, param_19, param_20, param_21);\n        distcheck = param_20;\n        normalcheck = param_21;\n        bool _446;\n        if (_438)\n        {\n            _446 = distcheck < dist;\n        }\n        else\n        {\n            _446 = _438;\n        }\n        if (_446)\n        {\n            dist = distcheck;\n            normal = normalcheck;\n            vec2 param_22 = offset;\n            col = FLT_flutter_local_getSphereColor(param_22);\n            material = 3;\n        }\n        mm = step(dis, dis.zyx);\n        dis += ((mm * rs) * ri);\n        pos += (mm * rs);\n    }\n    vec3 color = vec3(0.0);\n    if (material > 0)\n    {\n        intersection = ro + (rd * dist);\n        vec2 map = floor(intersection.xz / vec2(8.0)) * 8.0;\n        bool _491 = material == 1;\n        bool _497;\n        if (!_491)\n        {\n            _497 = material == 3;\n        }\n        else\n        {\n            _497 = _491;\n        }\n        if (_497)\n        {\n            vec3 c = vec3(-8.0, 0.0, 8.0);\n            vec2 offset_1;\n            vec3 lpos;\n            vec2 soffset;\n            vec3 slpos;\n            float param_37;\n            vec3 param_38;\n            for (int x = 0; x < 3; x++)\n            {\n                for (int y = 0; y < 3; y++)\n                {\n                    vec2 mapoffset = map + vec2(c[x], c[y]);\n                    vec2 param_23 = mapoffset;\n                    vec2 param_24 = offset_1;\n                    FLT_flutter_local_getSphereOffset(param_23, param_24);\n                    offset_1 = param_24;\n                    vec2 param_25 = mapoffset;\n                    vec3 lcolor = FLT_flutter_local_getSphereColor(param_25);\n                    vec2 param_26 = mapoffset;\n                    vec2 param_27 = -offset_1;\n                    vec3 param_28 = lpos;\n                    FLT_flutter_local_getMovingSpherePosition(param_26, param_27, param_28);\n                    lpos = param_28;\n                    float shadow = 1.0;\n                    if (material == 1)\n                    {\n                        for (int sx = 0; sx < 3; sx++)\n                        {\n                            for (int sy = 0; sy < 3; sy++)\n                            {\n                                if (shadow < 1.0)\n                                {\n                                    continue;\n                                }\n                                vec2 smapoffset = map + vec2(c[sx], c[sy]);\n                                vec2 param_29 = smapoffset;\n                                vec2 param_30 = soffset;\n                                FLT_flutter_local_getSphereOffset(param_29, param_30);\n                                soffset = param_30;\n                                vec2 param_31 = smapoffset;\n                                vec2 param_32 = soffset;\n                                vec3 param_33 = slpos;\n                                FLT_flutter_local_getSpherePosition(param_31, param_32, param_33);\n                                slpos = param_33;\n                                vec3 param_34 = intersection;\n                                vec3 param_35 = normalize(lpos - intersection);\n                                vec3 param_36 = slpos;\n                                bool _615 = FLT_flutter_local_intersectUnitSphere(param_34, param_35, param_36, param_37, param_38);\n                                float sd = param_37;\n                                vec3 sn = param_38;\n                                if (_615)\n                                {\n                                    shadow = 0.0;\n                                }\n                            }\n                        }\n                    }\n                    color += ((col * lcolor) * ((shadow * max(dot(normalize(lpos - intersection), normal), 0.0)) * clamp((10.0 / dot(lpos - intersection, lpos - intersection)) - 0.07500000298023223876953125, 0.0, 1.0)));\n                }\n            }\n        }\n        else\n        {\n            vec2 param_39 = map;\n            color = FLT_flutter_local_getSphereColor(param_39) * (3.0 + (2.0 * dot(normal, vec3(0.5, 0.5, -0.5))));\n        }\n    }\n    return color;\n}\n\nvoid FLT_flutter_local_mainImage(out vec4 fragColor_1, vec2 fragCoord)\n{\n    vec2 q = fragCoord / iResolution;\n    vec2 p = vec2(-1.0) + (q * 2.0);\n    p.x *= (iResolution.x / iResolution.y);\n    vec3 ce = vec3(cos(0.23199999332427978515625 * iTime) * 10.0, 6.0 + (3.0 * cos(0.300000011920928955078125 * iTime)), 8.0 * (iTime / 0.5));\n    vec3 ro = ce;\n    vec3 ta = ro + vec3((-sin(0.23199999332427978515625 * iTime)) * 10.0, (-2.0) + cos(0.23000000417232513427734375 * iTime), 10.0);\n    float roll = (-0.1500000059604644775390625) * sin(0.5 * iTime);\n    vec3 cw = normalize(ta - ro);\n    vec3 cp = vec3(sin(roll), cos(roll), 0.0);\n    vec3 cu = normalize(cross(cw, cp));\n    vec3 cv = normalize(cross(cu, cw));\n    vec3 rd = normalize(((cu * p.x) + (cv * p.y)) + (cw * 1.5));\n    vec3 param = ro;\n    vec3 param_1 = rd;\n    vec3 param_2;\n    vec3 param_3;\n    float param_4;\n    int param_5;\n    vec3 _780 = FLT_flutter_local_trace(param, param_1, param_2, param_3, param_4, param_5);\n    vec3 intersection = param_2;\n    vec3 normal = param_3;\n    float dist = param_4;\n    int material = param_5;\n    vec3 col = _780;\n    if (material > 0)\n    {\n        float f = 0.039999999105930328369140625 * clamp(pow(1.0 + dot(rd, normal), 5.0), 0.0, 1.0);\n        vec3 ro_1 = intersection + (normal * 9.9999997473787516355514526367188e-05);\n        rd = reflect(rd, normal);\n        vec3 param_6 = ro_1;\n        vec3 param_7 = rd;\n        vec3 param_8;\n        vec3 param_9;\n        float param_10;\n        int param_11;\n        vec3 _816 = FLT_flutter_local_trace(param_6, param_7, param_8, param_9, param_10, param_11);\n        intersection = param_8;\n        normal = param_9;\n        dist = param_10;\n        material = param_11;\n        vec3 refColor = _816;\n        if (material > 2)\n        {\n            col += (refColor * 0.5);\n        }\n        else\n        {\n            col += (refColor * f);\n        }\n    }\n    col = pow(col * 0.5, vec3(0.4545454680919647216796875));\n    col = clamp(col, vec3(0.0), vec3(1.0));\n    col *= (0.25 + (0.75 * pow((((16.0 * q.x) * q.y) * (1.0 - q.x)) * (1.0 - q.y), 0.1500000059604644775390625)));\n    fragColor_1 = vec4(col, 1.0);\n}\n\nvoid FLT_main()\n{\n    float keep = (((((((((((iFrame + iMouse.x) + iTime) + iResolution.x) + iChannelWrap.x) + iChannelResolution0.x) + iChannelResolution0.y) + iChannelResolution1.x) + iChannelResolution1.y) + iChannelResolution2.x) + iChannelResolution2.y) + iChannelResolution3.x) + iChannelResolution3.y;\n    vec2 fragCoord_1 = FLT_flutter_local_FlutterFragCoord();\n    vec2 param_13 = fragCoord_1;\n    vec4 param_12;\n    FLT_flutter_local_mainImage(param_12, param_13);\n    fragColor = param_12;\n    if (keep < (-100000002004087734272.0))\n    {\n        fragColor += vec4(keep);\n    }\n}\n\nhalf4 main(float2 iFragCoord)\n{\n      flutter_FragCoord = float4(iFragCoord, 0, 0);\n      FLT_main();\n      return fragColor;\n}\n",
    "stage": 1,
    "uniforms": [
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 0,
        "name": "iResolution",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 1,
        "name": "iTime",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 2,
        "name": "iFrame",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 3,
        "name": "iMouse",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 4,
        "name": "iChannelWrap",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 5,
        "name": "iChannelFilter",
        "rows": 4,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 6,
        "name": "iChannelResolution0",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 7,
        "name": "iChannelResolution1",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 8,
        "name": "iChannelResolution2",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 9,
        "name": "iChannelResolution3",
        "rows": 2,
        "type": 10
      }
    ]
  }
}